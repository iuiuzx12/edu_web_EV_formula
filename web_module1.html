<!DOCTYPE html>
<html lang="th" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เส้นทางการเรียนรู้ภาษา C สำหรับวิศวกร FSAE EV</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Calm Tech Neutrals (Stone, Slate, Sky) -->
    <!-- Application Structure Plan: The application is designed as an interactive learning roadmap, transforming the linear report into a guided, five-part journey. A sticky top navigation allows users to jump to any of the five main sections (Foundations, Hardware, Ecosystem, Real-Time, Architecture). Each section uses interactive cards and collapsible accordions to present information bite-sized, preventing overwhelm for beginners. This thematic, non-linear exploration structure is superior to a plain document as it encourages user engagement and allows learners to focus on specific areas of interest, aligning with a self-paced learning model. -->
    <!-- Visualization & Content Choices: 
        - Report Info: Part 1 - Learning Resources Table -> Goal: Compare -> Viz: Interactive HTML table for detailed comparison & Chart.js Bar Chart for a quick visual summary of time commitment. Justification: Caters to both analytical and visual learners.
        - Report Info: Part 2 - Pointer Concept -> Goal: Explain -> Viz: HTML/CSS diagram. Justification: Visually demystifies a complex abstract concept.
        - Report Info: Part 4 - CAN Frame/RTOS Tasks -> Goal: Organize/Explain -> Viz: Structured HTML/CSS diagrams (Flexbox/Grid). Justification: Breaks down complex system architectures into understandable blocks.
        - Report Info: Part 5 - VCU/BMS Architecture -> Goal: Synthesize -> Viz: HTML/CSS flow diagrams. Justification: Clearly illustrates the final system design, connecting all learned concepts.
        - Interaction: Collapsible sections (accordions) powered by vanilla JS are used for detailed content like C syntax, preventing information overload and improving focus.
    -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Sarabun', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        .content-card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            padding: 1.5rem;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        .content-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        .section-icon {
            font-size: 2.5rem;
            line-height: 1;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <header class="bg-white/80 backdrop-blur-lg shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <span class="text-xl font-bold text-sky-700">FSAE EV C-Programming</span>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#part1" class="text-slate-600 hover:bg-sky-100 hover:text-sky-700 px-3 py-2 rounded-md text-sm font-medium">I. พื้นฐาน</a>
                        <a href="#part2" class="text-slate-600 hover:bg-sky-100 hover:text-sky-700 px-3 py-2 rounded-md text-sm font-medium">II. C กับฮาร์ดแวร์</a>
                        <a href="#part3" class="text-slate-600 hover:bg-sky-100 hover:text-sky-700 px-3 py-2 rounded-md text-sm font-medium">III. ระบบนิเวศ</a>
                        <a href="#part4" class="text-slate-600 hover:bg-sky-100 hover:text-sky-700 px-3 py-2 rounded-md text-sm font-medium">IV. การสื่อสารและ RTOS</a>
                        <a href="#part5" class="text-slate-600 hover:bg-sky-100 hover:text-sky-700 px-3 py-2 rounded-md text-sm font-medium">V. สถาปัตยกรรม</a>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button id="mobile-menu-button" type="button" class="bg-slate-100 inline-flex items-center justify-center p-2 rounded-md text-slate-500 hover:text-slate-700 hover:bg-slate-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">เปิดเมนูหลัก</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </nav>
        <div class="md:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#part1" class="text-slate-600 hover:bg-sky-100 hover:text-sky-700 block px-3 py-2 rounded-md text-base font-medium">I. พื้นฐาน</a>
                <a href="#part2" class="text-slate-600 hover:bg-sky-100 hover:text-sky-700 block px-3 py-2 rounded-md text-base font-medium">II. C กับฮาร์ดแวร์</a>
                <a href="#part3" class="text-slate-600 hover:bg-sky-100 hover:text-sky-700 block px-3 py-2 rounded-md text-base font-medium">III. ระบบนิเวศ</a>
                <a href="#part4" class="text-slate-600 hover:bg-sky-100 hover:text-sky-700 block px-3 py-2 rounded-md text-base font-medium">IV. การสื่อสารและ RTOS</a>
                <a href="#part5" class="text-slate-600 hover:bg-sky-100 hover:text-sky-700 block px-3 py-2 rounded-md text-base font-medium">V. สถาปัตยกรรม</a>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">

        <section class="text-center mb-16">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-sky-800 leading-tight">จาก "Hello, World!" สู่สนามแข่ง</h1>
            <p class="mt-4 max-w-3xl mx-auto text-lg text-slate-600">
                หลักสูตรการเขียนโปรแกรมภาษา C ฉบับโต้ตอบได้ สำหรับวิศวกร Formula SAE EV รุ่นใหม่
                สำรวจเส้นทางการเรียนรู้จากพื้นฐานสู่การพัฒนาระบบสมองกลฝังตัวขั้นสูง
            </p>
        </section>

        <!-- Part 1: Foundations -->
        <section id="part1" class="mb-20 scroll-mt-20">
            <div class="flex items-center mb-8">
                <div class="bg-sky-600 text-white rounded-full w-16 h-16 flex items-center justify-center mr-6">
                    <span class="section-icon">I</span>
                </div>
                <div>
                    <h2 class="text-3xl font-bold text-slate-900">รากฐานที่แข็งแกร่งของภาษา C</h2>
                    <p class="text-slate-500">สร้างความเข้าใจพื้นฐานที่จำเป็นสำหรับการเขียนโปรแกรมระบบสมองกลฝังตัว</p>
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-8">
                <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">ทำไมต้องเป็นภาษา C?</h3>
                    <p class="text-slate-600">ภาษา C คือภาษากลางของระบบสมองกลฝังตัวเพราะให้ทั้ง <span class="font-semibold text-sky-600">ประสิทธิภาพ</span> ในการทำงานที่รวดเร็วระดับไมโครวินาที และ <span class="font-semibold text-sky-600">การควบคุม</span> ฮาร์ดแวร์ได้โดยตรง ซึ่งจำเป็นอย่างยิ่งสำหรับระบบยานยนต์ที่ต้องการความแม่นยำและเสถียรภาพสูงสุด</p>
                </div>
                <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">ก้าวแรกที่สำคัญ: CS50</h3>
                    <p class="text-slate-600">ก่อนเขียนโค้ด C ขอแนะนำให้เริ่มต้นด้วย <span class="font-semibold">CS50x ของ Harvard</span> เพื่อฝึกฝน <span class="font-semibold text-sky-600">การคิดเชิงอัลกอริทึม</span> และศิลปะการแก้ปัญหา ซึ่งสำคัญกว่าการท่องจำไวยากรณ์ การสร้างกรอบความคิดที่ถูกต้องจะทำให้การเรียนรู้ C ง่ายและเป็นธรรมชาติยิ่งขึ้น</p>
                </div>
            </div>
            
            <div class="content-card mt-8">
                <h3 class="font-bold text-xl mb-4 text-sky-700">โครงสร้างภาษาหลัก: ส่วนประกอบพื้นฐาน</h3>
                <p class="text-slate-600 mb-6">คลิกเพื่อดูรายละเอียดแต่ละหัวข้อหลักของไวยากรณ์ภาษา C ที่ผู้เริ่มต้นทุกคนต้องรู้</p>
                <div id="accordion-container" class="space-y-2">
                    <!-- Accordion Items will be injected here by JS -->
                </div>
            </div>

            <div class="content-card mt-8">
                <h3 class="font-bold text-xl mb-4 text-sky-700">เปรียบเทียบแหล่งข้อมูลการเรียนรู้</h3>
                 <p class="text-slate-600 mb-6">ตารางด้านล่างสรุปและเปรียบเทียบหลักสูตรออนไลน์ที่ดีที่สุดสำหรับการเริ่มต้นเรียนภาษา C เพื่อช่วยให้คุณเลือกแหล่งข้อมูลที่เหมาะกับสไตล์การเรียนรู้ของคุณมากที่สุด</p>
                <div class="overflow-x-auto">
                    <table id="learning-resources-table" class="w-full text-left border-collapse">
                        <!-- Table content will be injected here -->
                    </table>
                </div>
                <div class="mt-8">
                     <h4 class="font-semibold text-lg text-center mb-4 text-slate-700">ภาพรวมระยะเวลาเรียนโดยประมาณ (สัปดาห์)</h4>
                     <div class="chart-container">
                        <canvas id="learningTimeChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- Part 2: C for Hardware -->
        <section id="part2" class="mb-20 scroll-mt-20">
            <div class="flex items-center mb-8">
                 <div class="bg-sky-600 text-white rounded-full w-16 h-16 flex items-center justify-center mr-6">
                    <span class="section-icon">II</span>
                </div>
                <div>
                    <h2 class="text-3xl font-bold text-slate-900">C สำหรับฮาร์ดแวร์</h2>
                    <p class="text-slate-500">เรียนรู้แก่นแท้ของการใช้ C เพื่อควบคุมฮาร์ดแวร์โดยตรง</p>
                </div>
            </div>
             <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
                <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">ตัวชี้ (Pointers)</h3>
                    <p class="text-slate-600">หัวใจของภาษา C และกุญแจสู่ฮาร์ดแวร์ มันคือตัวแปรที่เก็บ "ที่อยู่" ของข้อมูลอื่น ทำให้เราเข้าถึงและจัดการหน่วยความจำได้โดยตรง</p>
                </div>
                <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">การจัดการหน่วยความจำ</h3>
                    <p class="text-slate-600">MCU มีหน่วยความจำจำกัด การเข้าใจ Stack, Heap และคำหลักสำคัญอย่าง `static` และ `volatile` คือสิ่งจำเป็น</p>
                </div>
                 <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">Bitwise Operations</h3>
                    <p class="text-slate-600">เรียนรู้การ "พูดภาษาเดียวกับฮาร์ดแวร์" ผ่านตัวดำเนินการระดับบิต (AND, OR, XOR, NOT, Shift) เพื่อควบคุมรีจิสเตอร์ได้อย่างแม่นยำ</p>
                </div>
                <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">Structs & Unions</h3>
                    <p class="text-slate-600">สร้างระเบียบจากความซับซ้อนโดยใช้ `struct` เพื่อจำลองแผนที่รีจิสเตอร์ของฮาร์ดแวร์ ทำให้โค้ดอ่านง่ายและปลอดภัย</p>
                </div>
            </div>
             <div class="content-card mt-8">
                <h3 class="font-bold text-xl mb-4 text-sky-700">ภาพจำลอง: ตัวชี้ทำงานอย่างไร?</h3>
                <p class="text-slate-600 mb-6">ตัวชี้ (Pointer) ไม่ได้ซับซ้อนอย่างที่คิด มันเป็นเพียงตัวแปรที่เก็บ "ที่อยู่" ของตัวแปรอื่น ลองดูแผนภาพด้านล่างเพื่อทำความเข้าใจความสัมพันธ์</p>
                <div class="bg-slate-100 p-6 rounded-lg flex flex-col sm:flex-row justify-center items-center gap-8 text-center">
                    <div class="border-2 border-slate-300 p-4 rounded-lg bg-white">
                        <p class="text-sm text-slate-500">ตัวแปร `var`</p>
                        <p class="text-2xl font-bold text-sky-700">100</p>
                        <p class="text-xs text-slate-400 mt-1">ที่อยู่: 0x7FFC</p>
                    </div>
                    <div class="text-4xl text-slate-400 font-light">→</div>
                     <div class="border-2 border-slate-300 p-4 rounded-lg bg-white">
                        <p class="text-sm text-slate-500">ตัวชี้ `ptr`</p>
                        <p class="text-2xl font-mono text-sky-700">0x7FFC</p>
                         <p class="text-xs text-slate-400 mt-1">ชี้ไปยัง `var`</p>
                    </div>
                </div>
                <div class="mt-4 text-center text-sm text-slate-600">
                    <p>`ptr` ไม่ได้เก็บค่า `100` แต่เก็บที่อยู่ `0x7FFC` ซึ่งเป็นตำแหน่งของ `var` ในหน่วยความจำ</p>
                    <p>การใช้ `*ptr` จะทำให้เราเข้าถึงค่า `100` ได้</p>
                </div>
            </div>
        </section>

        <!-- Part 3: Ecosystem -->
        <section id="part3" class="mb-20 scroll-mt-20">
             <div class="flex items-center mb-8">
                 <div class="bg-sky-600 text-white rounded-full w-16 h-16 flex items-center justify-center mr-6">
                    <span class="section-icon">III</span>
                </div>
                <div>
                    <h2 class="text-3xl font-bold text-slate-900">ระบบนิเวศของระบบสมองกลฝังตัว</h2>
                    <p class="text-slate-500">ทำความรู้จักเครื่องมือและฮาร์ดแวร์ที่เป็นหัวใจของการพัฒนาใน FSAE</p>
                </div>
            </div>
             <div class="content-card">
                 <h3 class="font-bold text-xl mb-4 text-sky-700">การเลือกไมโครคอนโทรลเลอร์ (MCU): สมองของระบบ</h3>
                 <p class="text-slate-600 mb-6">การเลือก MCU เป็นการตัดสินใจที่สำคัญที่สุดอย่างหนึ่ง มีผลต่อประสิทธิภาพและเวลาในการพัฒนาของทีม ตารางด้านล่างเปรียบเทียบตัวเลือกยอดนิยมในวงการ FSAE เพื่อช่วยให้คุณเข้าใจจุดแข็งและกรณีการใช้งานของแต่ละตระกูล</p>
                 <div class="overflow-x-auto">
                    <table id="mcu-table" class="w-full text-left border-collapse">
                        <!-- MCU Table content will be injected here -->
                    </table>
                 </div>
             </div>
             <div class="grid md:grid-cols-2 gap-8 mt-8">
                 <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">STM32CubeIDE</h3>
                    <p class="text-slate-600">โซลูชันครบวงจรจาก STMicroelectronics สำหรับตระกูล STM32 รวมเครื่องมือตั้งค่าแบบกราฟิก (CubeMX), คอมไพเลอร์, และดีบักเกอร์ไว้ในที่เดียว เป็นมาตรฐานที่ใช้กันอย่างแพร่หลายในทีม FSAE</p>
                 </div>
                 <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">MPLAB X IDE</h3>
                    <p class="text-slate-600">ศูนย์บัญชาการสำหรับ MCU ของ Microchip เช่น ตระกูล dsPIC ที่นิยมใช้ในการควบคุมมอเตอร์ มาพร้อมเครื่องมือตั้งค่า MCC และคอมไพเลอร์ XC16 ที่ทรงพลัง</p>
                 </div>
             </div>
        </section>

        <!-- Part 4: Communication & Real-time -->
        <section id="part4" class="mb-20 scroll-mt-20">
             <div class="flex items-center mb-8">
                 <div class="bg-sky-600 text-white rounded-full w-16 h-16 flex items-center justify-center mr-6">
                    <span class="section-icon">IV</span>
                </div>
                <div>
                    <h2 class="text-3xl font-bold text-slate-900">การสื่อสารและการควบคุมแบบเรียลไทม์</h2>
                    <p class="text-slate-500">หัวใจของสถาปัตยกรรมซอฟต์แวร์ยานยนต์: CAN Bus และ RTOS</p>
                </div>
            </div>

            <div class="grid lg:grid-cols-2 gap-8">
                <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">บัส CAN (Controller Area Network)</h3>
                    <p class="text-slate-600 mb-4">ระบบประสาทของยานยนต์ เป็นโปรโตคอลที่ทนทานและเชื่อถือได้ ออกแบบมาเพื่อให้โมดูลอิเล็กทรอนิกส์ต่างๆ (VCU, BMS, อินเวอร์เตอร์) สื่อสารกันได้อย่างมีประสิทธิภาพในสภาพแวดล้อมที่มีสัญญาณรบกวนสูง</p>
                    <h4 class="font-semibold text-lg mb-2">โครงสร้างเฟรม CAN มาตรฐาน</h4>
                    <div class="bg-slate-100 p-2 rounded-lg text-xs overflow-x-auto">
                        <div class="flex space-x-1">
                           <div class="bg-green-200 p-2 rounded text-center flex-shrink-0">SOF</div>
                           <div class="bg-sky-200 p-2 rounded text-center flex-shrink-0 w-24">ID (11-bit)</div>
                           <div class="bg-orange-200 p-2 rounded text-center flex-shrink-0">Control</div>
                           <div class="bg-indigo-200 p-2 rounded text-center flex-shrink-0 w-32">Data (0-8 Bytes)</div>
                           <div class="bg-red-200 p-2 rounded text-center flex-shrink-0 w-20">CRC</div>
                           <div class="bg-yellow-200 p-2 rounded text-center flex-shrink-0">ACK</div>
                           <div class="bg-gray-300 p-2 rounded text-center flex-shrink-0">EOF</div>
                        </div>
                    </div>
                </div>
                <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">ระบบปฏิบัติการเวลาจริง (RTOS)</h3>
                    <p class="text-slate-600 mb-4">เปลี่ยนจากลูป `while(1)` ธรรมดาไปสู่การทำงานหลายอย่างพร้อมกัน (Multitasking) RTOS อย่าง FreeRTOS ช่วยจัดการความซับซ้อน ทำให้เราสามารถแบ่งโปรแกรมออกเป็น "ทาสก์" ย่อยๆ ที่ทำงานได้อย่างอิสระและคาดเดาได้ ซึ่งจำเป็นอย่างยิ่งสำหรับระบบที่เน้นความปลอดภัย</p>
                    <h4 class="font-semibold text-lg mb-2">Super-Loop vs RTOS</h4>
                    <div class="flex justify-around items-start text-center">
                         <div>
                            <p class="font-semibold">Super-Loop</p>
                            <div class="mt-2 border border-red-400 rounded p-2 text-sm">
                                Task A → Task B → Task C → ...
                                <p class="text-xs text-red-600 mt-1">Task B ต้องรอ A เสร็จ</p>
                            </div>
                        </div>
                        <div>
                            <p class="font-semibold">RTOS</p>
                             <div class="mt-2 border border-green-500 rounded p-2 text-sm space-y-1">
                                <div class="bg-green-100 p-1 rounded">Task A (High Prio)</div>
                                <div class="bg-yellow-100 p-1 rounded">Task B (Med Prio)</div>
                                <div class="bg-blue-100 p-1 rounded">Task C (Low Prio)</div>
                                <p class="text-xs text-green-700 mt-1">ทำงานตามลำดับความสำคัญ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="content-card mt-8">
                <h3 class="font-bold text-xl mb-4 text-sky-700">ฟังก์ชัน API หลักของ FreeRTOS</h3>
                <p class="text-slate-600 mb-6">ตารางนี้เปรียบเสมือน "สูตรโกง" ที่สรุปฟังก์ชันสำคัญของ FreeRTOS และตัวอย่างการนำไปใช้แก้ปัญหาจริงในรถ FSAE</p>
                 <div class="overflow-x-auto">
                    <table id="freertos-api-table" class="w-full text-left border-collapse">
                       <!-- FreeRTOS API table will be injected here -->
                    </table>
                 </div>
            </div>

        </section>

        <!-- Part 5: Architecture -->
        <section id="part5" class="mb-20 scroll-mt-20">
             <div class="flex items-center mb-8">
                 <div class="bg-sky-600 text-white rounded-full w-16 h-16 flex items-center justify-center mr-6">
                    <span class="section-icon">V</span>
                </div>
                <div>
                    <h2 class="text-3xl font-bold text-slate-900">การออกแบบสถาปัตยกรรมซอฟต์แวร์</h2>
                    <p class="text-slate-500">สังเคราะห์ความรู้ทั้งหมดเพื่อออกแบบซอฟต์แวร์สำหรับ VCU และ BMS</p>
                </div>
            </div>

            <div class="grid lg:grid-cols-2 gap-8">
                <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">สถาปัตยกรรม VCU (Vehicle Control Unit)</h3>
                    <p class="text-slate-600 mb-4">VCU คือ "สมอง" ของรถ ตัดสินใจและส่งคำสั่งแรงบิด สถาปัตยกรรมที่ใช้ RTOS จะแบ่งการทำงานออกเป็นทาสก์ต่างๆ เพื่อจัดการการอ่านเซ็นเซอร์, การสื่อสาร CAN และตรรกะควบคุมได้อย่างมีประสิทธิภาพ</p>
                    <div class="space-y-3">
                        <div class="bg-slate-100 p-3 rounded-lg flex items-center">
                            <span class="text-sky-600 mr-3">⚙️</span>
                            <div><strong>Task: Read Sensors</strong><br><span class="text-sm">อ่านค่าคันเร่ง/เบรก</span></div>
                        </div>
                        <div class="bg-slate-100 p-3 rounded-lg flex items-center">
                            <span class="text-sky-600 mr-3">📡</span>
                             <div><strong>Task: CAN Handler</strong><br><span class="text-sm">รับ/ส่งข้อมูลจากระบบอื่น</span></div>
                        </div>
                        <div class="bg-slate-100 p-3 rounded-lg flex items-center">
                            <span class="text-sky-600 mr-3">🧠</span>
                            <div><strong>Task: Control Logic</strong><br><span class="text-sm">คำนวณและตัดสินใจสั่งการ</span></div>
                        </div>
                    </div>
                </div>
                 <div class="content-card">
                    <h3 class="font-bold text-xl mb-3 text-sky-700">สถาปัตยกรรม BMS (Battery Management System)</h3>
                    <p class="text-slate-600 mb-4">BMS คือระบบที่สำคัญต่อความปลอดภัยสูงสุด มีหน้าที่ตรวจสอบและป้องกันชุดแบตเตอรี่ สถาปัตยกรรมซอฟต์แวร์ต้องรับประกันความน่าเชื่อถือในการวัดค่า, การปรับสมดุล และการสั่งตัดวงจรในภาวะฉุกเฉิน</p>
                    <div class="space-y-3">
                        <div class="bg-slate-100 p-3 rounded-lg flex items-center">
                            <span class="text-red-500 mr-3">🌡️</span>
                            <div><strong>Task: Measure Cells</strong><br><span class="text-sm">วัดแรงดัน/อุณหภูมิเซลล์</span></div>
                        </div>
                        <div class="bg-slate-100 p-3 rounded-lg flex items-center">
                            <span class="text-red-500 mr-3">🛡️</span>
                             <div><strong>Task: Check Safety</strong><br><span class="text-sm">ตรวจสอบค่าความปลอดภัย (สำคัญสุด)</span></div>
                        </div>
                        <div class="bg-slate-100 p-3 rounded-lg flex items-center">
                            <span class="text-red-500 mr-3">⚖️</span>
                            <div><strong>Task: Balancing</strong><br><span class="text-sm">ปรับสมดุลเซลล์ขณะชาร์จ</span></div>
                        </div>
                    </div>
                </div>
            </div>
             <div class="mt-8 text-center p-8 bg-sky-100 text-sky-800 rounded-lg">
                <h3 class="text-2xl font-bold">ความปลอดภัยและแนวปฏิบัติระดับมืออาชีพ</h3>
                <p class="mt-2 max-w-2xl mx-auto">การปฏิบัติตามกฎของ FSAE, การใช้ Git สำหรับควบคุมเวอร์ชัน และการทำเอกสารอย่างละเอียด ไม่ใช่แค่ทางเลือก แต่เป็นสิ่งจำเป็นสำหรับความสำเร็จและความปลอดภัยของโครงการ</p>
            </div>
        </section>

    </main>
    
    <footer class="bg-slate-800 text-slate-300 mt-16">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-sm">
            <p>Interactive Learning Path for FSAE EV C-Programming.</p>
            <p>สร้างสรรค์ขึ้นเพื่อแปลงเอกสารทางเทคนิคให้เป็นประสบการณ์การเรียนรู้ที่เข้าถึงง่าย</p>
        </div>
    </footer>


<script>
document.addEventListener('DOMContentLoaded', function () {
    const accordionData = [
        { title: 'ตัวแปร, ชนิดข้อมูล และค่าคงที่', content: 'ตำแหน่งในหน่วยความจำที่มีชื่อเรียก (`int`, `char`, `float`) การเลือกชนิดข้อมูลที่เหมาะสมเป็นสิ่งสำคัญเพื่อประสิทธิภาพ' },
        { title: 'ตัวดำเนินการ (Operators)', content: 'เครื่องมือสำหรับการคำนวณ (`+`, `-`, `*`, `/`), การเปรียบเทียบ (`==`, `>`) และตรรกะ (`&&`, `||`)' },
        { title: 'การรับและแสดงผลข้อมูล (I/O)', content: 'การใช้ `printf()` เพื่อแสดงผล และ `scanf()` เพื่อรับข้อมูลจากผู้ใช้ ซึ่งสำคัญสำหรับการดีบักบนคอมพิวเตอร์' },
        { title: 'การควบคุมการทำงาน (Control Flow)', content: 'โครงสร้างที่ใช้ตัดสินใจ (`if-else`, `switch`) และการทำงานซ้ำ (`for`, `while`) ซึ่งเป็นหัวใจของตรรกะโปรแกรม' },
        { title: 'ฟังก์ชัน, อาร์เรย์ และสตริง', content: 'การสร้างโค้ดแบบโมดูลด้วยฟังก์ชัน, การเก็บข้อมูลชนิดเดียวกันด้วยอาร์เรย์, และการจัดการข้อความด้วยสตริง (อาร์เรย์ของ `char`)' }
    ];

    const accordionContainer = document.getElementById('accordion-container');
    accordionData.forEach((item, index) => {
        const accordionItem = document.createElement('div');
        accordionItem.className = 'border border-slate-200 rounded-lg';
        accordionItem.innerHTML = `
            <button class="accordion-button w-full flex justify-between items-center text-left p-4 bg-slate-50 hover:bg-slate-100 focus:outline-none">
                <span class="font-semibold text-slate-700">${item.title}</span>
                <svg class="w-5 h-5 text-slate-500 transform transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
            </button>
            <div class="accordion-content bg-white px-4 pb-4">
                <p class="text-slate-600 pt-2">${item.content}</p>
            </div>
        `;
        accordionContainer.appendChild(accordionItem);
    });

    const accordionButtons = document.querySelectorAll('.accordion-button');
    accordionButtons.forEach(button => {
        button.addEventListener('click', () => {
            const content = button.nextElementSibling;
            const icon = button.querySelector('svg');
            
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
                icon.style.transform = 'rotate(0deg)';
            } else {
                // Close other open accordions
                document.querySelectorAll('.accordion-content').forEach(c => c.style.maxHeight = null);
                document.querySelectorAll('.accordion-button svg').forEach(i => i.style.transform = 'rotate(0deg)');
                
                content.style.maxHeight = content.scrollHeight + "px";
                icon.style.transform = 'rotate(180deg)';
            }
        });
    });
    
    const learningResourcesData = {
        headers: ["หลักสูตร/แหล่งข้อมูล", "ผู้ให้บริการ", "จุดเด่นหลัก", "เหมาะสำหรับ"],
        rows: [
            ["Harvard CS50x", "edX", "พื้นฐาน CS ที่ลึกซึ้ง", "ผู้เริ่มต้นที่ต้องการรากฐานวิชาการ"],
            ["Duke - Intro C", "Coursera", "การเขียนโปรแกรม C เชิงปฏิบัติ", "ผู้ที่ต้องการหลักการพัฒนาซอฟต์แวร์"],
            ["UC Santa Cruz - C", "Coursera", "เน้นพื้นฐาน C และดีบัก", "ผู้ที่ต้องการเน้นภาษา C โดยเฉพาะ"],
            ["Dartmouth - C & Linux", "Coursera", "สอน C และการใช้งาน Linux", "ผู้ที่ต้องการพัฒนาในสภาพแวดล้อม Linux"],
            ["freeCodeCamp C Tutorial", "YouTube", "บทเรียนวิดีโอที่ครอบคลุม", "ผู้ที่ชอบเรียนผ่านวิดีโอ"],
            ["learn-c.org", "เว็บไซต์อิสระ", "บทเรียนเชิงโต้ตอบในเบราว์เซอร์", "ผู้ที่ต้องการเรียนรู้เร็ว ไม่ต้องติดตั้ง"]
        ]
    };

    const table = document.getElementById('learning-resources-table');
    let thead = '<thead><tr class="bg-slate-100">';
    learningResourcesData.headers.forEach(header => {
        thead += `<th class="p-3 text-sm font-semibold text-slate-600">${header}</th>`;
    });
    thead += '</tr></thead>';
    table.innerHTML += thead;

    let tbody = '<tbody>';
    learningResourcesData.rows.forEach((row, index) => {
        tbody += `<tr class="border-b border-slate-100 ${index % 2 === 0 ? 'bg-white' : 'bg-slate-50/50'}">`;
        row.forEach(cell => {
            tbody += `<td class="p-3 text-sm text-slate-700">${cell}</td>`;
        });
        tbody += '</tr>';
    });
    tbody += '</tbody>';
    table.innerHTML += tbody;

    const mcuData = {
        headers: ["ตระกูล MCU", "สถาปัตยกรรม", "จุดแข็งหลัก", "การใช้งานใน FSAE", "ข้อดี"],
        rows: [
            ["STM32F4", "ARM Cortex-M4F", "สมดุลประสิทธิภาพ/อุปกรณ์", "VCU, BMS Master, แดชบอร์ด", "ชุมชนใหญ่, เอกสารดีเยี่ยม"],
            ["STM32G4/F7/H7", "ARM Cortex-M7F", "ประสิทธิภาพสูงสุด, FDCAN", "VCU ประสิทธิภาพสูง, Telemetry", "รองรับอนาคต, ประสิทธิภาพดีสุด"],
            ["dsPIC33", "16-bit DSC", "DSP Engine สำหรับควบคุมมอเตอร์", "การควบคุมอินเวอร์เตอร์มอเตอร์", "เหมาะสำหรับอัลกอริทึม FOC"],
            ["Teensy 4.x", "ARM Cortex-M7", "เป็นมิตรกับผู้เริ่มต้น", "สร้างต้นแบบ, โหนดไม่สำคัญ", "เริ่มต้นได้เร็ว, อุปสรรคต่ำ"]
        ]
    };

    const mcuTable = document.getElementById('mcu-table');
    let mcuThead = '<thead><tr class="bg-slate-100">';
    mcuData.headers.forEach(header => {
        mcuThead += `<th class="p-3 text-sm font-semibold text-slate-600">${header}</th>`;
    });
    mcuThead += '</tr></thead>';
    mcuTable.innerHTML += mcuThead;

    let mcuTbody = '<tbody>';
    mcuData.rows.forEach((row, index) => {
        mcuTbody += `<tr class="border-b border-slate-100 ${index % 2 === 0 ? 'bg-white' : 'bg-slate-50/50'}">`;
        row.forEach(cell => {
            mcuTbody += `<td class="p-3 text-sm text-slate-700">${cell}</td>`;
        });
        mcuTbody += '</tr>';
    });
    mcuTbody += '</tbody>';
    mcuTable.innerHTML += mcuTbody;
    
    const freertosApiData = {
        headers: ["ฟังก์ชัน API", "วัตถุประสงค์", "ตัวอย่างการใช้งานใน FSAE"],
        rows: [
            ["`xTaskCreate`", "สร้างทาสก์ใหม่", "สร้าง `VCU_task` และ `CAN_Tx_task`"],
            ["`vTaskDelay`", "หน่วงเวลาทาสก์", "ใน `Dashboard_task` เพื่อลดการใช้ CPU"],
            ["`xQueueCreate`", "สร้างคิวใหม่", "สร้างคิวเพื่อส่งข้อมูลตำแหน่งคันเร่ง"],
            ["`xQueueReceive`", "รับข้อมูลจากคิว", "`VCU_task` รอรับข้อมูลใหม่จาก ADC"],
            ["`xSemaphoreCreateMutex`", "สร้างมิวเท็กซ์", "สร้าง `CANTx_Mutex` ป้องกันการเข้าถึง CAN"],
            ["`xSemaphoreTake` / `Give`", "ยึด/คืน มิวเท็กซ์", "ก่อน/หลังส่งข้อความ CAN เพื่อป้องกัน Race Condition"]
        ]
    };

    const apiTable = document.getElementById('freertos-api-table');
    let apiThead = '<thead><tr class="bg-slate-100">';
    freertosApiData.headers.forEach(header => {
        apiThead += `<th class="p-3 text-sm font-semibold text-slate-600">${header}</th>`;
    });
    apiThead += '</tr></thead>';
    apiTable.innerHTML += apiThead;

    let apiTbody = '<tbody>';
    freertosApiData.rows.forEach((row, index) => {
        apiTbody += `<tr class="border-b border-slate-100 ${index % 2 === 0 ? 'bg-white' : 'bg-slate-50/50'}">`;
        row.forEach(cell => {
             apiTbody += `<td class="p-3 text-sm text-slate-700">${cell.replace(/`/g, '<code class="bg-slate-200 text-sky-800 px-1 py-0.5 rounded text-xs">')}</code></td>`;
        });
        apiTbody += '</tr>';
    });
    apiTbody += '</tbody>';
    apiTable.innerHTML += apiTbody;

    // Mobile menu toggle
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    mobileMenuButton.addEventListener('click', () => {
        const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
        mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
        mobileMenu.classList.toggle('hidden');
        mobileMenuButton.querySelector('svg:first-child').classList.toggle('hidden');
        mobileMenuButton.querySelector('svg:last-child').classList.toggle('hidden');
    });

    // Close mobile menu on link click
    mobileMenu.querySelectorAll('a').forEach(link => {
        link.addEventListener('click', () => {
            mobileMenuButton.setAttribute('aria-expanded', 'false');
            mobileMenu.classList.add('hidden');
            mobileMenuButton.querySelector('svg:first-child').classList.remove('hidden');
            mobileMenuButton.querySelector('svg:last-child').classList.add('hidden');
        });
    });

    // Chart.js implementation
    const ctx = document.getElementById('learningTimeChart').getContext('2d');
    new Chart(ctx, {
        type: 'bar',
        data: {
            labels: ['CS50x', 'Duke', 'UC Santa Cruz', 'Dartmouth', 'freeCodeCamp', 'learn-c.org'],
            datasets: [{
                label: 'ระยะเวลาเรียน (สัปดาห์)',
                data: [12, 18, 8, 18, 0.2, 2],
                backgroundColor: 'rgba(56, 189, 248, 0.6)',
                borderColor: 'rgba(14, 116, 144, 1)',
                borderWidth: 1
            }]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: {
                    display: false
                },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            let label = context.dataset.label || '';
                            if (label) {
                                label += ': ';
                            }
                            if (context.parsed.x !== null) {
                                if(context.parsed.x < 1) {
                                    label += (context.parsed.x * 7).toFixed(0) + ' วัน';
                                } else {
                                    label += context.parsed.x + ' สัปดาห์';
                                }
                            }
                            return label;
                        }
                    }
                }
            },
            scales: {
                x: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'สัปดาห์ (โดยประมาณ)'
                    }
                }
            }
        }
    });

});
</script>

</body>
</html>
